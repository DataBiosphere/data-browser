<ng-container *ngIf="state$ | async as state">
    <announcement *ngIf="isMaintenanceModeWarningVisible()" class="data-re-ingestion">
        <p class="fontsize-s">Warning: in maintenance mode for data re-ingestion</p>
    </announcement>
    <header>
        <hca-toolbar (menuOpen)="onMenuOpen($event)"></hca-toolbar>
    </header>
    <ng-container [ngSwitch]="isV2()">
        <announcement-catalog *ngSwitchCase="true" [catalog]="state.catalog"></announcement-catalog>
        <announcement-dcp2-coming-soon *ngSwitchDefault></announcement-dcp2-coming-soon>
    </ng-container>
    <release-banner *ngIf="showRelease()"></release-banner>
    <announcement *ngIf="!state.systemStatus.ok" class="status">
        <mat-icon>warning</mat-icon>
        <p class="fontsize-s">One or more of the systems composing the HCA DCP is currently unavailable.
            <ng-container *ngIf="isStatusPageFeatureEnabled()">Please try again later, or monitor the full system status
                <a href="/status">here</a>.
            </ng-container>
        </p>
    </announcement>
    <announcement *ngIf="state.systemStatus.ok && state.systemStatus.indexing" class="status">
        <p class="fontsize-s">Data indexing in progress. Search results may be incomplete.</p>
    </announcement>
</ng-container>
<support-request></support-request>
<router-outlet></router-outlet>
<sticky-footer>
    <desktop-footer *ngIf="isDeviceHandheld()"></desktop-footer>
    <data-policy-footer></data-policy-footer>
</sticky-footer>
<hca-footer (feedbackClicked)="onFeedbackClicked()"></hca-footer>

