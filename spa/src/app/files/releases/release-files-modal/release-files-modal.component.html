<modal-layout *ngIf="state$ | async as state"
              [loaded]="state.loaded"
              (closed)="redirectToReleases()">
    <release-title-overline overline></release-title-overline>
    <ng-container title *ngIf="state.loaded">Release Files</ng-container>
    <ng-container subtitle *ngIf="state.loaded">{{state.releaseDataset.projectShortname}}</ng-container>
    <ng-container content *ngIf="state.loaded">
        <h2>
            <span>{{state.releaseDataset.developmentalStage}}, </span>
            <span>{{state.releaseDataset.organ}}, </span>
            <span>{{state.releaseDataset.libraryConstructionApproach}}</span>
        </h2>
        <warning class="max550">
            <warning-content>
                <p class="fontsize-s">This project contains additional organs, developmental stages or technologies. <a
                        routerLink="/projects/{{state.releaseDataset.entryId}}/releases/2020-mar">View project release page</a>.
                </p>
            </warning-content>
        </warning>
        <release-file class="max550"
                      *ngFor="let releaseFile of state.releaseDataset.files"
                      [releaseFiles]="releaseFile.files"
                      [releaseFileParagraph]="getFileDownloadParagraph(releaseFile)" 
                      [releaseFileTitle]="getReleaseFileTypeDisplay(releaseFile.type)"></release-file>
        <data-download-citation class="max550"></data-download-citation>
    </ng-container>
</modal-layout>
