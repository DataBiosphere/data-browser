<div class="release-tables">
    <div *ngFor="let organView of releaseOrganViews">
        <h2 class="fontsize-xl">{{organView.organ}}</h2>
        <mat-table [dataSource]="organView.datasets">
            <ng-container matColumnDef="projectTitle">
                <mat-header-cell *matHeaderCellDef class="project-title fontsize-xxs bold">
                    <span>Project</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element" class="project-title fontsize-xxs">
                    <a routerLink="/projects/{{element.entryId}}/releases/2020-mar" (click)="setReleaseReferrer()">{{element.projectShortname}}</a>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="dataset">
                <mat-header-cell *matHeaderCellDef class="dataset fontsize-xxs bold">
                    <span>Dataset</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element" class="dataset fontsize-xxs">
                    <span>{{element.datasetId}}</span>
                </mat-cell>
            </ng-container>
            
            <ng-container matColumnDef="developmentalStage">
                <mat-header-cell *matHeaderCellDef class="stage fontsize-xxs bold">
                    <span>Developmental<br/>Stage</span></mat-header-cell>
                <mat-cell *matCellDef="let element" class="stage fontsize-xxs desktop-only">
                    <span>{{element.developmentalStage}}</span>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="organ">
                <mat-header-cell *matHeaderCellDef class="organ fontsize-xxs bold">
                    <span>Organ</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element" class="organ fontsize-xxs desktop-only">
                    <span>{{element.organ}}</span>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="technology">
                <mat-header-cell *matHeaderCellDef class="technology fontsize-xxs bold">
                    <span>Technology</span></mat-header-cell>
                <mat-cell *matCellDef="let element" class="technology fontsize-xxs desktop-only">
                    <span>{{renderTechnologyShortName(element.libraryConstructionApproach)}}</span>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="releaseFiles">
                <mat-header-cell *matHeaderCellDef class="release-files fontsize-xxs bold">
                    <span>Release Files</span></mat-header-cell>
                <mat-cell *matCellDef="let element" class="release-files fontsize-xxs desktop-only">
                    <button class="button secondary size-s"
                            [routerLink]="getDatasetReleaseFilesUrl(element.entryId, element.datasetId)"
                            (click)="setReleaseFilesReferrer()">
                        Downloads
                    </button>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="visualize">
                <mat-header-cell *matHeaderCellDef class="visualizations fontsize-xxs bold">
                    <span>Visualizations</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element" class="visualizations fontsize-xxs desktop-only">
                    <button class="button secondary size-s"
                            [routerLink]="getDatasetVisualizationsUrl(element.entryId, element.datasetId)"
                            (click)="setReleaseFilesReferrer()">Visualizations</button>
                </mat-cell>
            </ng-container>
            <!-- Mobile only columns -->
            <ng-container matColumnDef="attributes">
                <mat-header-cell *matHeaderCellDef class="attributes fontsize-xxs bold mobile-only">
                    <span class="dot"><span>Organ</span><span>Stage</span><span>Technology</span></span></mat-header-cell>
                <mat-cell *matCellDef="let element" class="attributes fontsize-xxs mobile-only">
                    <div class="dot"><span>{{element.organ}}</span><span>{{element.developmentalStage}}</span><span>{{renderTechnologyShortName(element.libraryConstructionApproach)}}</span></div>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef class="actions fontsize-xxs bold mobile-only">
                    <span class="dot"><span>Release Files</span><span>Visualize</span></span></mat-header-cell>
                <mat-cell *matCellDef="let element" class="actions fontsize-xxs mobile-only">
                    <button class="button secondary size-s"
                            [routerLink]="getDatasetReleaseFilesUrl(element.entryId, element.datasetId)"
                            (click)="setReleaseFilesReferrer()">
                        Downloads
                    </button><button class="button secondary size-s"
                            [routerLink]="getDatasetVisualizationsUrl(element.entryId, element.datasetId)"
                            (click)="setReleaseFilesReferrer()">Visualizations</button>
                </mat-cell>
            </ng-container>
            <!-- Config -->
            <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
            <mat-row *matRowDef="let row; columns: columnsToDisplay;"></mat-row>
        </mat-table>
    </div>
</div>
