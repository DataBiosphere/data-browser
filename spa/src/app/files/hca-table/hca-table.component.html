<div class="wrapper">
    <div class="hca-table">
        <mat-table *ngIf="pagination$ | async; let pagination" #table [dataSource]="tableElementDataSource" matSort
                   (matSortChange)="sortTable(pagination, $event)">
            <ng-container matColumnDef="specimenId">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="A unique ID for this specimen."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Specimen Id</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.specimenId, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.specimenId}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.specimenId}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.specimenId}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="fileCount">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="The count of files for this specimen."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">File Count</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.fileName, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.fileCount}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.fileCount}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.fileCount}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="organ">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="The organ that the biomaterial came from. Blood and connective tissue are considered organs."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Organ</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.organ, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.organ}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.organ}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.organ}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="organPart">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="A term for a specific part of the organ that the biomaterial came from."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Organ Part</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.organPart, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.organPart}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.organPart}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.organPart}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="libraryConstructionApproach">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="The general approach for sequencing library construction. Should be a child term of EFO - library preparation."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Library Construction</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.libraryConstructionApproach, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.libraryConstructionApproach}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.libraryConstructionApproach}}
                        </div>
                        <div *ngSwitchDefault matTooltip
                             [matTooltipDisabled]="true">{{element.libraryConstructionApproach}}
                        </div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="genusSpecies">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="The scientific binomial name for the species of the biomaterial."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Species
                    </span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.genusSpecies, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.genusSpecies}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.genusSpecies}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.genusSpecies}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="organismAge">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="Age, measured since birth. Age unit is the unit in which age is expressed. Must be one of hour, day, week, month, or year."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Age</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.organismAge, display5)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.organismAge}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.organismAge}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.organismAge}}
                            {{getAgeUnit(element.ageUnit)}}
                        </div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="biologicalSex">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="The biological sex of the organism. Should be one of male, female, mixed, or unknown."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Sex</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.biologicalSex, display5)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.biologicalSex}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.biologicalSex}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.biologicalSex}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="disease">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <span matTooltip="Free text describing any disease association to the cell type. Should be an EFO ontology."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Diseased</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.disease, display10)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.disease}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.disease}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">{{element.disease}}</div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="fileType">
                <mat-header-cell *matHeaderCellDef>
                    <div class="file-type">
                    <span matTooltip="The format of the data file."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">File Types</span>
                        <div><span>Primary</span><span>2nd</span></div>
                    </div>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <div>
                        <div class="file-type-data">
                                <span>
                                    <ng-container [ngSwitch]="element.fileTypePrimary > 0">
                                        <ng-container *ngSwitchDefault><img
                                                src="../../../assets/images/table/isFileType.png"></ng-container>
                                        <ng-container *ngSwitchCase="false"><img
                                                src="../../../assets/images/table/isNotFileType.png"></ng-container>
                                    </ng-container>
                                </span>
                            <span>
                                    <ng-container [ngSwitch]="element.fileTypeSecondary > 0">
                                        <ng-container *ngSwitchDefault><img
                                                src="../../../assets/images/table/isFileType.png"></ng-container>
                                        <ng-container *ngSwitchCase="false"><img
                                                src="../../../assets/images/table/isNotFileType.png"></ng-container>
                                    </ng-container>
                                </span>
                        </div>
                        <div class="file-type-info">
                            <span class="file-title">Raw Data</span>
                            <span>Fastqs: {{element.fileTypePrimary}}</span>
                            <span class="file-title">Secondary Analysis</span>
                            <span>BAMs: {{element.fileTypeSecondary}}</span>
                        </div>
                    </div>
                </mat-cell>
            </ng-container>
            <ng-container matColumnDef="totalCells">
                <mat-header-cell *matHeaderCellDef>
                    <span matTooltip="Total estimated number of cells in biomaterial. May be 1 for well-based assays."
                          matTooltipPosition="below"
                          matTooltipShowDelay="{{tooltipShowDelay}}"
                          matTooltipClass="hca-tooltip narrow">Cell Count (Estimated)</span>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <ng-container [ngSwitch]="isTermNameTruncated(element.totalCells, display7)">
                        <div *ngSwitchCase="true"
                             matTooltip="{{element.totalCells}}"
                             matTooltipPosition="below"
                             matTooltipShowDelay="{{tooltipShowDelay}}"
                             matTooltipClass="hca-tooltip">{{element.totalCells}}
                        </div>
                        <div *ngSwitchDefault matTooltip [matTooltipDisabled]="true">
                            <ng-container *ngIf="element.totalCells">{{element.totalCells |
                                localeString}}
                            </ng-container>
                            <ng-container *ngIf="!element.totalCells">No Data</ng-container>
                        </div>
                    </ng-container>
                </mat-cell>
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <div class="stick">
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </div>
        </mat-table>
        <div *ngIf="pagination$ | async; let pagination" class="pagination">
            <ng-container *ngIf="pagination.current_page">
                <button type="button" (click)="previousPageSelected(pagination)">
                    <mat-icon>chevron_left</mat-icon>
                </button>
                Page {{pagination.current_page}} of {{getPageCount(pagination)}}
                <button type="button" (click)="nextPageSelected(pagination)">
                    <mat-icon>chevron_right</mat-icon>
                </button>
            </ng-container>
        </div>
    </div>
</div>
