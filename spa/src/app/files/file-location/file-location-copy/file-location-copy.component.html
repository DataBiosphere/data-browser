<ng-container *ngIf="viewState$ | async as viewState">
    <ng-container [ngSwitch]="viewState">
        <img  *ngSwitchCase="fileLocationStatus.NOT_STARTED"
              (click)="onFileLocationRequested(fileUrl, filename)"
              matTooltip="Copy download link"
              matTooltipClass="tooltip tooltip-small"
              class="copy-not-started"
              src="assets/images/icon/copy-primary.png">
        <mat-spinner *ngSwitchCase="fileLocationStatus.IN_PROGRESS" class="copy-in-progress" diameter="14"></mat-spinner>
        <div *ngSwitchCase="fileLocationStatus.FAILED" class="copy-error">x</div>
        <img *ngSwitchCase="fileLocationStatus.COMPLETED"
             class="copy-complete"
             #tooltipCopied="matTooltip"
             matTooltip="Copied!"
             matTooltipClass="tooltip tooltip-small"
             src="assets/images/icon/check-black.png">
    </ng-container>
</ng-container>


